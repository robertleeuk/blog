# 요구사항 문서

## 소개

Next.js와 MDX를 기반으로 한 개인 개발자 블로그 시스템입니다. Lee Robinson의 leerob.io를 참고하여 글, 코드, 이미지가 균형 잡힌 블로그를 구축합니다. GitHub Actions를 통한 자동 배포, 한/영 다국어 지원, 외부 이미지 소스 연동, 그리고 Nova Act를 활용한 멀티 채널 배포 기능을 제공합니다.

## 용어 정의

- **블로그_시스템**: Next.js 14 App Router 기반의 정적 블로그 애플리케이션
- **MDX_파서**: gray-matter를 활용한 Markdown/JSX 콘텐츠 파싱 시스템
- **다국어_모듈**: 한국어/영어 다국어 지원 모듈 (localStorage 기반 설정 저장)
- **이미지_로더**: Next.js Image 컴포넌트 기반 외부 이미지 처리 컴포넌트
- **배포_파이프라인**: GitHub Actions 기반 CI/CD 파이프라인
- **멀티채널_배포기**: Nova Act를 활용한 멀티 채널 배포 시스템 (Twitter, LinkedIn, Dev.to, Medium 지원)
- **정적_내보내기**: Next.js의 정적 HTML 내보내기 기능 (output: 'export')
- **목차_생성기**: 마크다운 헤딩 기반 목차 생성 시스템

## 요구사항

### 요구사항 1: MDX 기반 콘텐츠 관리

**사용자 스토리:** 개발자로서, MDX 형식으로 블로그 글을 작성하고 싶습니다. 그래서 마크다운과 React 컴포넌트를 함께 사용할 수 있습니다.

#### 인수 조건

1. 사용자가 content 디렉토리에 MDX 파일을 생성하면, MDX_파서는 렌더링 가능한 블로그 포스트로 파싱해야 한다
2. MDX 파일에 React 컴포넌트가 포함되어 있으면, MDX_파서는 콘텐츠 내에서 올바르게 렌더링해야 한다
3. MDX 파일에 frontmatter 메타데이터가 포함되어 있으면, 블로그_시스템은 title, date, description, tags를 추출해야 한다
4. MDX에 코드 블록이 있으면, 블로그_시스템은 적절한 언어 감지와 함께 구문 강조를 적용해야 한다
5. MDX 파일에 잘못된 구문이 있으면, MDX_파서는 설명적인 오류 메시지를 반환해야 한다

### 요구사항 2: 정적 사이트 생성 및 라우팅

**사용자 스토리:** 블로그 운영자로서, 빠른 로딩 속도를 위해 정적 사이트로 블로그를 생성하고 싶습니다.

#### 인수 조건

1. 빌드 프로세스가 실행되면, 블로그_시스템은 모든 블로그 포스트에 대한 정적 HTML 페이지를 생성해야 한다
2. 사용자가 블로그 포스트 URL로 이동하면, 블로그_시스템은 해당 콘텐츠를 표시해야 한다
3. 빌드 프로세스가 완료되면, 블로그_시스템은 SEO 최적화를 위한 sitemap.xml을 생성해야 한다
4. 포스트 slug가 제공되면, 블로그_시스템은 해당 포스트 페이지로 라우팅해야 한다
5. 정적_내보내기가 실행되면, 블로그_시스템은 모든 페이지를 `out` 디렉토리에 출력해야 한다

### 요구사항 3: 한/영 다국어 지원

**사용자 스토리:** 글로벌 독자로서, 블로그를 한국어 또는 영어로 읽고 싶습니다. 그래서 선호하는 언어로 콘텐츠를 소비할 수 있습니다.

#### 인수 조건

1. 사용자가 언어를 선택하면, 다국어_모듈은 선택된 언어로 모든 UI 요소를 표시해야 한다
2. 두 로케일 모두에 콘텐츠 파일이 존재하면, 블로그_시스템은 한국어(content/posts/ko/)와 영어(content/posts/en/) 버전의 별도 콘텐츠 파일을 지원해야 한다
3. 번역된 버전이 존재하면, 블로그_시스템은 언어 전환 버튼을 표시해야 한다
4. 언어를 전환할 때, 다국어_모듈은 현재 페이지 경로를 유지하고 로케일 접두사만 변경해야 한다
5. 사용자가 언어 설정을 변경하면, 블로그_시스템은 localStorage에 저장해야 한다
6. 저장된 설정 없이 사용자가 방문하면, 다국어_모듈은 navigator.language를 사용하여 브라우저 언어를 감지하고 적용해야 한다

### 요구사항 4: 외부 이미지 소스 지원

**사용자 스토리:** 콘텐츠 작성자로서, 외부 이미지 호스팅 서비스의 이미지를 블로그에 첨부하고 싶습니다.

#### 인수 조건

1. 외부 이미지 URL이 제공되면, 이미지_로더는 Next.js Image 컴포넌트를 사용하여 이미지를 가져와 표시해야 한다
2. 이미지가 렌더링될 때, 이미지_로더는 외부 소스에 대해 unoptimized 모드를 사용해야 한다
3. 외부 이미지 로딩이 실패하면, 이미지_로더는 폴백 플레이스홀더(/images/placeholder.svg)를 표시해야 한다
4. 애플리케이션을 구성할 때, 블로그_시스템은 next.config.js remotePatterns에 허용된 외부 이미지 도메인을 정의해야 한다
5. priority 플래그 없이 이미지를 표시할 때, 이미지_로더는 성능 최적화를 위해 지연 로딩을 적용해야 한다

### 요구사항 5: GitHub Actions 자동 배포

**사용자 스토리:** 블로그 운영자로서, 코드를 푸시하면 자동으로 블로그가 배포되길 원합니다.

#### 인수 조건

1. main 브랜치에 코드가 푸시되면, 배포_파이프라인은 빌드 프로세스를 트리거해야 한다
2. 빌드 프로세스가 시작되면, 배포_파이프라인은 배포 전에 린팅과 타입 체크를 실행해야 한다
3. 빌드가 성공하면, 배포_파이프라인은 GitHub Pages에 배포해야 한다
4. 빌드가 실패하면, 배포_파이프라인은 GitHub 상태 체크를 통해 알림을 보내야 한다
5. 의존성을 설치할 때, 배포_파이프라인은 후속 빌드 속도 향상을 위해 node_modules를 캐시해야 한다

### 요구사항 6: 멀티 채널 배포

**사용자 스토리:** 콘텐츠 크리에이터로서, 블로그 글을 여러 플랫폼에 동시에 배포하고 싶습니다.

#### 인수 조건

1. 새 포스트가 게시되면, 멀티채널_배포기는 Twitter, LinkedIn, Dev.to, Medium으로 배포할 수 있는 옵션을 제공해야 한다
2. Nova Act가 구성되면, 멀티채널_배포기는 Nova Act API를 통한 자동 크로스포스팅을 지원해야 한다
3. 콘텐츠를 배포할 때, 멀티채널_배포기는 각 대상 플랫폼의 글자 수 제한(Twitter: 280, LinkedIn: 3000)을 준수하며 포맷을 조정해야 한다
4. 포스트가 배포되면, 블로그_시스템은 data/publish-history.json에 플랫폼, 타임스탬프, URL과 함께 배포 기록을 추적해야 한다
5. 채널 배포가 실패하면, 멀티채널_배포기는 플랫폼 이름과 오류 메시지와 함께 오류를 기록해야 한다

### 요구사항 7: 반응형 디자인 및 UI/UX

**사용자 스토리:** 독자로서, 모든 디바이스에서 편안하게 블로그를 읽고 싶습니다.

#### 인수 조건

1. 사용자가 블로그에 접속하면, 블로그_시스템은 모바일, 태블릿, 데스크톱 디바이스에서 올바르게 표시되어야 한다
2. 모바일에서 볼 때, 블로그_시스템은 최적의 가독성을 위해 레이아웃을 조정해야 한다
3. 콘텐츠를 표시할 때, 블로그_시스템은 가독성에 초점을 맞춘 깔끔하고 미니멀한 디자인을 유지해야 한다

### 요구사항 8: SEO 및 메타데이터 최적화

**사용자 스토리:** 블로그 운영자로서, 검색 엔진에서 블로그가 잘 노출되길 원합니다.

#### 인수 조건

1. 페이지가 렌더링되면, 블로그_시스템은 title과 description을 포함한 적절한 메타 태그를 생성해야 한다
2. 포스트가 렌더링되면, 블로그_시스템은 소셜 공유를 위한 Open Graph 태그를 포함해야 한다
3. 빌드 프로세스가 완료되면, 블로그_시스템은 robots.txt 파일을 생성해야 한다
4. 포스트가 렌더링되면, 블로그_시스템은 메타 태그에 canonical URL을 포함해야 한다
5. 소셜 미디어에서 공유할 때, 블로그_시스템은 title, description, image가 포함된 적절한 미리보기 카드를 표시해야 한다
